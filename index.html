<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Playlist Generator</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P:wght@400&display=swap" rel="stylesheet">
    <!-- EmailJS for sending real emails -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script type="text/javascript">
        (function(){
            // EmailJS initialization with error handling
            if (typeof emailjs !== 'undefined') {
                try {
                    emailjs.init('-0lT7dikS_UlAxGN2');
                    console.log('âœ… EmailJS initialized');
                } catch(e) {
                    console.error('âŒ EmailJS initialization failed:', e);
                    console.log('ğŸ“§ Will show verification code on screen instead');
                }
            } else {
                console.log('âŒ EmailJS library not loaded');
            }
        })();
    </script>
    <script src="enhanced-login.js"></script>
    <script src="script.js"></script>
</head>
<body>
    <!-- Login Page -->
    <div id="loginPage" class="login-page">
        <div class="login-content">
            <h1 class="login-title">ğŸŒ™ LUNAR PLAYLIST CRAFT</h1>
            <div class="login-form">
                <h2 id="loginTitle">Welcome Back, Lunar Explorer!</h2>
                <input type="text" id="usernameInput" placeholder="Enter your username" class="login-input">
                <div class="password-container">
                    <input type="password" id="passwordInput" placeholder="Enter your password" class="login-input password-field">
                    <button type="button" id="togglePassword" class="password-toggle">ğŸ‘ï¸</button>
                </div>
                <input type="email" id="emailInput" placeholder="Enter your email (required)" class="login-input hidden" style="display: none;">
                <button id="loginBtn" class="login-btn">ğŸŒ™ LOGIN</button>
                <button id="registerBtn" class="login-btn" style="display: none;">âœ¨ REGISTER</button>
                <button id="forgotPasswordBtn" class="forgot-password-btn">ğŸ”‘ FORGOT PASSWORD</button>
                <div class="login-toggle">
                    <span id="toggleText">New lunar explorer? </span>
                    <button id="toggleMode" class="toggle-link">Join the Mission</button>
                </div>
                <div class="forgot-toggle" style="display: none;">
                    <button id="forgotToggle" class="toggle-link">Forgot your cosmic key?</button>
                </div>
                <div class="login-subtitle">Your cosmic playlists and lunar history await...</div>
            </div>
        </div>
    </div>
    
    <!-- Entry Page -->
    <div id="entryPage" class="entry-page hidden">
        <div class="entry-content">
            <div class="pixelated-text">
                <span class="letter" data-letter="G">G</span>
                <span class="letter" data-letter="E">E</span>
                <span class="letter" data-letter="N">N</span>
                <span class="letter" data-letter="E">E</span>
                <span class="letter" data-letter="R">R</span>
                <span class="letter" data-letter="A">A</span>
                <span class="letter" data-letter="T">T</span>
                <span class="letter" data-letter="E">E</span>
                <span class="space"></span>
                <span class="letter" data-letter="Y">Y</span>
                <span class="letter" data-letter="O">O</span>
                <span class="letter" data-letter="U">U</span>
                <span class="letter" data-letter="R">R</span>
                <span class="space"></span>
                <span class="letter" data-letter="O">O</span>
                <span class="letter" data-letter="W">W</span>
                <span class="letter" data-letter="N">N</span>
                <span class="space"></span>
                <span class="letter" data-letter="P">P</span>
                <span class="letter" data-letter="L">L</span>
                <span class="letter" data-letter="A">A</span>
                <span class="letter" data-letter="Y">Y</span>
                <span class="letter" data-letter="L">L</span>
                <span class="letter" data-letter="I">I</span>
                <span class="letter" data-letter="S">S</span>
                <span class="letter" data-letter="T">T</span>
            </div>
            <div class="entry-subtitle">Click anywhere to enter</div>
        </div>
        <audio id="letterSound" preload="auto" muted>
            <source src="https://www.soundjay.com/misc/sounds/bell-ringing-05.wav" type="audio/wav">
        </audio>
        <audio id="charmSound" preload="auto" muted>
            <source src="https://www.soundjay.com/misc/sounds/bell-ringing-05.wav" type="audio/wav">
        </audio>
    </div>

    <!-- Floating Stickers for entire page -->
    <div class="floating-stickers">
    </div>

    <!-- Main Website Content -->
    <div id="mainContent" class="main-content hidden">
    
    <audio id="bgMusic" loop muted>
        <source src="https://www.soundjay.com/misc/sounds/bell-ringing-05.wav" type="audio/wav">
    </audio>
    <audio id="bgMusic-peace" loop muted>
        <source src="https://www.soundjay.com/misc/sounds/bell-ringing-05.wav" type="audio/wav">
    </audio>
    <audio id="bgMusic-phonk" loop muted>
        <source src="https://www.soundjay.com/misc/sounds/bell-ringing-05.wav" type="audio/wav">
    </audio>
    <audio id="bgMusic-lofi" loop muted>
        <source src="https://www.soundjay.com/misc/sounds/bell-ringing-05.wav" type="audio/wav">
    </audio>
    <audio id="bgMusic-synthwave" loop muted>
        <source src="https://www.soundjay.com/misc/sounds/bell-ringing-05.wav" type="audio/wav">
    </audio>
    <audio id="bgMusic-trap" loop muted>
        <source src="https://www.soundjay.com/misc/sounds/bell-ringing-05.wav" type="audio/wav">
    </audio>
    
    <header>
        <div class="logo">ğŸŒ™ LUNAR PLAYLIST CRAFT ğŸµ</div>
    </header>

    <main>
        <div class="container">
            <div class="generator-card">
                <h1>â›ï¸ CRAFT YOUR PLAYLIST â›ï¸</h1>
                
                <div class="form-group">
                    <label for="mood">ğŸŒ™ SELECT LUNAR MOOD:</label>
                    <select id="mood">
                        <option value="happy">ğŸŒŸ STELLAR VIBES</option>
                        <option value="chill">ğŸŒ™ LUNAR CHILL</option>
                        <option value="energetic">âš¡ COSMIC ENERGY</option>
                        <option value="sad">ğŸŒ§ï¸ NEBULA MELANCHOLY</option>
                        <option value="romantic">ğŸ’œ GALACTIC ROMANCE</option>
                        <option value="focus">ğŸ”® ASTEROID FOCUS</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="genre">ğŸµ SONIC DIMENSION:</label>
                    <select id="genre">
                        <option value="pop">ğŸŒŸ COSMIC POP</option>
                        <option value="rock">ğŸª¨ ASTEROID ROCK</option>
                        <option value="hip-hop">ğŸ¤ LUNAR HIP HOP</option>
                        <option value="electronic">âš¡ DIGITAL SPACE</option>
                        <option value="jazz">ğŸ· STELLAR JAZZ</option>
                        <option value="classical">ğŸ¼ GALACTIC CLASSICAL</option>
                        <option value="indie">ğŸŒŒ INDIE COSMOS</option>
                        <option value="bollywood">ğŸ­ BOLLYWOOD GALAXY</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="duration">â° MISSION DURATION:</label>
                    <select id="duration">
                        <option value="30">ğŸš€ 30 MIN ORBIT</option>
                        <option value="60">ğŸ›¸ 1 HOUR VOYAGE</option>
                        <option value="120">ğŸŒŒ 2 HOUR EXPEDITION</option>
                        <option value="180">ğŸŒ  3 HOUR ODYSSEY</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="aiInput">ğŸ¤– LUNA AI PREFERENCES:</label>
                    <input type="text" id="aiInput" placeholder="e.g., 'cosmic beats for space workout' or 'stellar 90s romance'">
                </div>
                
                <button id="generateBtn" class="generate-btn">ğŸ”¨ CRAFT PLAYLIST ğŸ”¨</button>
            </div>

            <div id="playlistResult" class="playlist-result hidden">
                <h2>ğŸŒ™ YOUR LUNAR PLAYLIST CRAFTED ğŸŒ™</h2>
                <div class="playlist-info">
                    <span id="playlistName"></span>
                    <span id="playlistDuration"></span>
                </div>
                <div id="songList" class="song-list"></div>
                
                <div class="ai-section">
                    <h3>ğŸ¤– LUNA AI COSMIC RECOMMENDATIONS</h3>
                    <div id="aiSuggestions" class="ai-suggestions"></div>
                    <div class="ai-buttons">
                        <button id="getMoreBtn" class="ai-btn">ğŸ§  SCAN MORE GALAXIES</button>
                        <button id="addAIBtn" class="ai-btn ai-add-btn">ğŸ”® DISCOVER STELLAR GEMS</button>
                    </div>
                </div>
                
                <div class="save-section">
                    <input type="text" id="playlistNameInput" placeholder="Name your cosmic playlist (optional)" class="playlist-name-input">
                    <button id="savePlaylistBtn" class="save-btn">ğŸ’¾ SAVE TO LUNAR VAULT</button>
                    <button id="viewSavedBtn" class="view-saved-btn">ğŸ“ VIEW LUNAR VAULT</button>
                    <button id="spotifyBtn" class="spotify-btn">ğŸµ BEAM TO SPOTIFY</button>
                </div>
                
                <button id="newPlaylistBtn" class="new-playlist-btn">ğŸ†• CRAFT NEW LUNAR PLAYLIST ğŸ†•</button>
            </div>
        </div>
    </main>

    <div class="saved-controls">
        <button id="viewSavedControlBtn" class="saved-btn" title="View Lunar Vault">ğŸ“</button>
        <button id="aiChatBtn" class="saved-btn" title="Chat with Luna AI">ğŸ¤–</button>
    </div>
    
    <div class="music-controls">
        <button id="musicToggle" class="music-btn">ğŸµ</button>
        <select id="musicSelector" class="music-selector">
            <option value="cute">ğŸµ Minecraft Cute</option>
            <option value="peace">ğŸ•Šï¸ Minecraft Peace</option>
            <option value="phonk" selected>ğŸ”¥ Minecraft Phonk</option>
            <option value="lofi">ğŸ§ Minecraft Lo-Fi</option>
            <option value="synthwave">ğŸŒ† Minecraft Synthwave</option>
            <option value="trap">ğŸ’¥ Minecraft Trap</option>
            <option value="girlypop">ğŸ€ Minecraft Girly Pop</option>
        </select>
        <input type="range" id="volumeSlider" min="0" max="100" value="8" class="volume-slider">
    </div>
    
    </div> <!-- End main content -->
    
    <!-- Saved Playlists Modal -->
    <div id="savedPlaylistsModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ğŸ“ SAVED PLAYLISTS</h2>
                <button class="close-btn" onclick="closeSavedPlaylists()">âŒ</button>
            </div>
            <div id="savedPlaylistsList" class="saved-playlists-list"></div>
        </div>
    </div>
    
    <!-- AI Chat Modal -->
    <div id="aiChatModal" class="modal hidden">
        <div class="modal-content chat-modal">
            <div class="modal-header">
                <h2>ğŸ¤– CHAT WITH LUNA AI</h2>
                <button class="close-btn" onclick="closeAIChat()">âŒ</button>
            </div>
            <div id="chatMessages" class="chat-messages"></div>
            <div class="chat-input-area">
                <input type="text" id="chatInput" placeholder="Tell me about your mood or what music you want..." class="chat-input">
                <button id="sendChatBtn" class="send-btn">ğŸš€ SEND</button>
            </div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>